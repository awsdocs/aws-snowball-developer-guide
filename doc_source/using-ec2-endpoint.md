# Using the Amazon EC2 Endpoint<a name="using-ec2-endpoint"></a>

Following, you can find an overview of the Amazon Elastic Compute Cloud \(Amazon EC2\) endpoint\. Using this endpoint, you can manage your Amazon Machine Images \(AMIs\) and compute instances programmatically using Amazon EC2 API operations\.

## Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint<a name="using-ec2-adapter-cli-endpoint"></a>

When you use the AWS CLI to issue a command to the AWS Snowball Edge device, you can specify that the endpoint is the Amazon EC2 endpoint\. You have the choice of using the HTTPS endpoint, or an unsecured HTTP endpoint, as shown following\.

**HTTPS secured endpoint**

```
aws ec2 describe-instances --endpoint https://192.0.2.0:8243 --ca-bundle path/to/certificate
```

**HTTP unsecured endpoint**

```
aws ec2 describe-instances --endpoint http://192.0.2.0:8008
```

If you use the HTTPS endpoint of `8243`, your data in transit is encrypted\. This encryption is ensured with a certificate that's generated by the Snowball Edge when it is unlocked\. After you have your certificate, you can save it to a local `ca-bundle.pem` file\. Then you can configure your AWS CLI profile to include the path to your certificate, as described following\.

**To associate your certificate with the Amazon EC2 endpoint**

1. Connect the Snowball Edge to power and network, and turn it on\.

1. After the device has finished unlocking, make a note of its IP address on your local network\.

1. From a terminal on your network, make sure you can ping the Snowball Edge\.

1. Run the `snowballEdge get-certificate` command in your terminal\. For more information on this command, see [Getting Your Certificate for Transferring Data](using-client-commands.md#snowball-edge-certificates-cli)\.

1. Save the output of the `snowballEdge get-certificate` command to a file, for example `ca-bundle.pem`\.

1. Run the following command from your terminal\.

   ```
   aws configure set profile.snowballEdge.ca_bundle /path/to/ca-bundle.pem
   ```

After you complete the procedure, you can run CLI commands with these local credentials, your certificate, and your specified endpoint\.

## Supported AWS CLI Commands for Amazon EC2 on a Snowball Edge<a name="cli-support-ec2-edge"></a>

Following, you can find information about how to specify the Amazon EC2 endpoint for applicable AWS CLI commands\. For information about installing and setting up the AWS CLI, including specifying what Regions you want to make AWS CLI calls against, see the [AWS Command Line Interface User Guide](https://docs.aws.amazon.com/cli/latest/userguide/)\.

### List of Supported Amazon EC2 AWS CLI Commands on a Snowball Edge<a name="list-cli-commands-ec2-edge"></a>

Following, you can find a description of the subset of AWS CLI commands and options for Amazon EC2 that are supported on Snowball Edge devices\. If a command or option isn't listed following, it's not supported\. You can declare some unsupported options along with a command\. However, these are ignored\.
+ [associate\-address](https://docs.aws.amazon.com/cli/latest/reference/ec2/associate-address.html) – Associates a virtual IP address with an instance for use on one of the three physical network interfaces on the device:
  + \-\-instance\-id – The ID of a single `sbe` instance\.
  + \-\-public\-ip – The virtual IP address that you want to use to access your instance\.
+ [attach\-volume](https://docs.aws.amazon.com/cli/latest/reference/ec2/attach-volume.html) – Attaches an Amazon EBS volume to a stopped or running instance on your device and exposes it to the instance with the specified device name\. 
  + \-\-device `value` – The device name\.
  + \-\-instance\-id – The ID of a target Amazon EC2 instance\.
  + \-\-volume\-id `value` – The ID of the EBS volume\.
+ [authorize\-security\-group\-egress](https://docs.aws.amazon.com/cli/latest/reference/ec2/authorize-security-group-egress.html) – Adds one or more egress rules to a security group for use with a Snowball Edge device\. Specifically, this action permits instances to send traffic to one or more destination IPv4 CIDR address ranges\. For more information, see [Security Groups in Snowball Edge Devices](edge-security-groups.md)\.
  + \-\-group\-id `value` – The ID of the security group
  + \[\-\-ip\-permissions `value`\] – One or more sets of IP permissions\.
+ [authorize\-security\-group\-ingress](https://docs.aws.amazon.com/cli/latest/reference/ec2/authorize-security-group-ingress.html) – Adds one or more ingress rules to a security group\. When calling `authorize-security-group-ingress`, you must specify a value either for `group-name` or `group-id`\.
  + \[\-\-group\-name `value`\] – The name of the security group\.
  + \[\-\-group\-id `value`\] – The ID of the security group
  + \[\-\-ip\-permissions `value`\] – One or more sets of IP permissions\.
  + \[\-\-protocol `value`\] The IP protocol\. Possible values are `tcp`, `udp`, and `icmp`\. The `--port` argument is required unless the "all protocols" value is specified \(\-1\)\.
  + \[\-\-port `value`\] – For TCP or UDP, the range of ports to allow\. This value can be a single integer or a range \(minimum–maximum\)\.

    For ICMP, a single integer or a range \(`type`\-`code`\) in which `type` represents the ICMP type number and `code` represents the ICMP code number\. A value of \-1 indicates all ICMP codes for all ICMP types\. A value of \-1 just for `type` indicates all ICMP codes for the specified ICMP type\.
  + \[\-\-cidr `value`\] – The CIDR IP range\.
+ [create\-launch\-template](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-launch-template.html) – Creates a launch template\. A *launch template *contains the parameters to launch an instance\. When you launch an instance using `RunInstances`, you can specify a launch template instead of providing the launch parameters in the request\. You can create up to 100 templates per device\.
  + \-\-launch\-template\-name `string` – A name for the launch template\.
  + \-\-launch\-template\-data `structure` – The information for the launch template\. The following attributes are supported:
    + `ImageId`
    + `InstanceType`
    + `SecurityGroupIds`
    + `TagSpecifications`
    + `UserData`

    JSON syntax:

    ```
    {
        "ImageId":"string",
        "InstanceType":"sbe-c.large",
        "SecurityGroupIds":["string", ...],
        "TagSpecifications":[{"ResourceType":"instance","Tags":[{"Key":"Name","Value":"Test"},
        {"Key":"Stack","Value":"Gamma"}]}],
        "UserData":"this is my user data"
    }
    ```
  + \[\-\-version\-description `string`\] – A description for the first version of the launch template\.
  + \-\-endpoint `snowballEndpoint` – A value that enables you to manage your compute instances programmatically using Amazon EC2 API operations\. For more information, see [Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint](#using-ec2-adapter-cli-endpoint)\.
+ [create\-launch\-template\-version](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-launch-template-version.html) – Creates a new version for a launch template\. You can specify an existing version of a launch template from which to base the new version\. Launch template versions are numbered in the order in which they are created\. You can't specify, change, or replace the numbering of launch template versions\. You can create up to 100 versions of each launch template\.

  Specify either the launch template ID or launch template name in the request\.
  + \-\-launch\-template\-id `string` – The ID of the launch template\.
  + \-\-launch\-template\-name `string` – A name for the launch template\.
  + \-\-launch\-template\-data `structure` – The information for the launch template\. The following attributes are supported:
    + `ImageId`
    + `InstanceType`
    + `SecurityGroupIds`
    + `TagSpecifications`
    + `UserData`

    JSON syntax:

    ```
    {
        "ImageId":"string",
        "InstanceType":"sbe-c.large",
        "SecurityGroupIds":["string", ...],
        "TagSpecifications":[{"ResourceType":"instance","Tags":[{"Key":"Name","Value":"Test"},
         {"Key":"Stack","Value":"Gamma"}]}],
        "UserData":"this is my user data"
    }
    ```
  + \[\-\-source\-version `string`\] – The version number of the launch template on which to base the new version\. The new version inherits the same launch parameters as the source version, except for parameters that you specify in `launch-template-data`\.
  + \[\-\-version\-description `string`\] – A description for the first version of the launch template\.
  + \-\-endpoint `snowballEndpoint` – A value that enables you to manage your compute instances programmatically using Amazon EC2 API operations\. For more information, see [Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint](#using-ec2-adapter-cli-endpoint)\.
+ [create\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-tags.html) – Adds or overwrites one or more tags for the specified resource\. Each resource can have a maximum of 50 tags\. Each tag consists of a key and optional value\. Tag keys must be unique for a resource\. The following resources are supported:
  + AMI
  + Instance
  + Launch template
  + Security group
  + Key pair
+ [create\-security\-group](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-security-group.html) – Creates a security group on your Snowball Edge\. You can create up to 50 security groups\. When you create a security group, you specify a friendly name of your choice:
  + \-\-group\-name `value` – The name of the security group\.
  + \-\-description `value` – A description of the security group\. This is informational only\. This value can be up to 255 characters in length\.
+ [create\-volume](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-volume.html) – Creates an Amazon EBS volume that can be attached to an instance on your device\.
  + \[\-\-size `value`\] – The size of the volume in GiBs, which can be from 1 GiB to 1 TB \(1000 GiBs\)\.
  + \[\-\-snapshot\-id `value`\] – The snapshot from which to create the volume\.
  + \[\-\-volume\-type `value`\] – The volume type\. If no value is specified, the default is `sbg1`\. Possible values include the following:
    + `sbg1` for magnetic volumes
    + `sbp1` for SSD volumes
  + \[\-\-tag\-specification `value`\] – A list of tags to apply to the volume during creation\.
+ [delete\-launch\-template](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-launch-template.html) – Deletes a launch template\. Deleting a launch template deletes all of its versions\.

  Specify either the launch template ID or launch template name in the request\.
  + \-\-launch\-template\-id `string` – The ID of the launch template\.
  + \-\-launch\-template\-name `string` – A name for the launch template\.
  + \-\-endpoint `snowballEndpoint` – A value that enables you to manage your compute instances programmatically using Amazon EC2 API operations\. For more information, see [Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint](#using-ec2-adapter-cli-endpoint)\.
+ [delete\-launch\-template\-version](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-launch-template-version.html) – Deletes one or more versions of a launch template\. You can't delete the default version of a launch template; you must first assign a different version as the default\. If the default version is the only version for the launch template, delete the entire launch template by using the `delete-launch-template` command\.

  Specify either the launch template ID or launch template name in the request\.
  + \-\-launch\-template\-id `string` – The ID of the launch template\.
  + \-\-launch\-template\-name `string` – A name for the launch template\.
  + \-\-versions \(list\) `"string" "string"` – The version numbers of one or more launch template versions to delete\.
  + \-\-endpoint `snowballEndpoint` – A value that enables you to manage your compute instances programmatically using Amazon EC2 API operations\. For more information, see [Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint](#using-ec2-adapter-cli-endpoint)\.
+ [delete\-security\-group](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-security-group.html) – Deletes a security group\.

  If you attempt to delete a security group that is associated with an instance, or is referenced by another security group, the operation fails with `DependencyViolation`\.
  + \-\-group\-name `value` – The name of the security group\.
  + \-\-description `value` – A description of the security group\. This is informational only\. This value can be up to 255 characters in length\.
+ [delete\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-tags.html) – Deletes the specified set of tags from the specified resource \(AMI, compute instance, launch template, or security group\)\.
+ [delete\-volume](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-volume.html) – Deletes the specified Amazon EBS volume\. The volume must be in the `available` state \(not attached to an instance\)\.
  + \-\-volume\-id `value` – The ID of the volume\.
+ [describe\-addresses](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-addresses.html) – Describes one or more of your virtual IP addresses associated with the same number of `sbe` instances on your device\.
  + \-\-public\-ips – One or more of the virtual IP addresses associated with your instances\.
+ [describe\-images](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-images.html) – Describes one or more of the images \(AMIs\) available to you\. Images available to you are added to the Snowball Edge device during job creation\.
  + \-\-image\-id – The Snowball AMI ID of the AMI\.
+ [describe\-instance\-attribute](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instance-attribute.html) – Describes the specified attribute of the specified instance\. You can specify only one attribute at a time\. The following attributes are supported:
  + `instanceInitiatedShutdownBehavior` 
  + `instanceType`
  + `userData`
+ [describe\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html) – Describes one or more of your instances\. The response returns any security groups that are assigned to the instances\.
  + \-\-instance\-ids – The IDs of one or more `sbe` instances that were stopped on the device\.
  + \-\-page\-size – The size of each page to get in the call\. This value doesn't affect the number of items returned in the command's output\. Setting a smaller page size results in more calls to the device, retrieving fewer items in each call\. Doing this can help prevent the calls from timing out\.
  + \-\-max\-items – The total number of items to return in the command's output\. If the total number of items available is more than the value specified, `NextToken` is provided in the command's output\. To resume pagination, provide the `NextToken` value in the `starting-token` argument of a subsequent command\.
  + \-\-starting\-token – A token to specify where to start paginating\. This token is the `NextToken` value from a previously truncated response\.
+ [describe\-launch\-templates](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-launch-templates.html) – Describes one or more launch templates\. The `describe-launch-templates` command is a paginated operation\. You can make multiple calls to retrieve the entire dataset of results\.

  Specify either the launch template IDs or launch template names in the request\.
  + \-\-launch\-template\-ids \(list\) `"string" "string"` – A list of IDs of the launch templates\.
  + \-\-launch\-template\-names \(list\) `"string" "string"` – A list of names for the launch templates\.
  + \-\-page\-size – The size of each page to get in the call\. This value doesn't affect the number of items returned in the command's output\. Setting a smaller page size results in more calls to the device, retrieving fewer items in each call\. Doing this can help prevent the calls from timing out\.
  + \-\-max\-items – The total number of items to return in the command's output\. If the total number of items available is more than the value specified, `NextToken` is provided in the command's output\. To resume pagination, provide the `NextToken` value in the `starting-token` argument of a subsequent command\.
  + \-\-starting\-token – A token to specify where to start paginating\. This token is the `NextToken` value from a previously truncated response\.
  + \-\-endpoint `snowballEndpoint` – A value that enables you to manage your compute instances programmatically using Amazon EC2 API operations\. For more information, see [Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint](#using-ec2-adapter-cli-endpoint)\.
+ [describe\-launch\-template\-versions](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-launch-template-versions.html) – Describes one or more versions of a specified launch template\. You can describe all versions, individual versions, or a range of versions\. The `describe-launch-template-versions` command is a paginated operation\. You can make multiple calls to retrieve the entire dataset of results\.

  Specify either the launch template IDs or launch template names in the request\.
  + \-\-launch\-template\-id `string` – The ID of the launch template\.
  + \-\-launch\-template\-name `string` – A name for the launch template\.
  + \[\-\-versions \(list\) `"string" "string"`\] – The version numbers of one or more launch template versions to delete\.
  + \[\-\-min\-version `string`\] – The version number after which to describe launch template versions\.
  + \[\-\-max\-version `string`\] – The version number up to which to describe launch template versions\.
  + \-\-page\-size – The size of each page to get in the call\. This value doesn't affect the number of items returned in the command's output\. Setting a smaller page size results in more calls to the device, retrieving fewer items in each call\. Doing this can help prevent the calls from timing out\.
  + \-\-max\-items – The total number of items to return in the command's output\. If the total number of items available is more than the value specified, `NextToken` is provided in the command's output\. To resume pagination, provide the `NextToken` value in the `starting-token` argument of a subsequent command\.
  + \-\-starting\-token – A token to specify where to start paginating\. This token is the `NextToken` value from a previously truncated response\.
  + \-\-endpoint `snowballEndpoint` – A value that enables you to manage your compute instances programmatically using Amazon EC2 API operations\. For more information, see [Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint](#using-ec2-adapter-cli-endpoint)\.
+ [describe\-security\-groups](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-security-groups.html) – Describes one or more of your security groups\.

  The `describe-security-groups` command is a paginated operation\. You can issue multiple API calls to retrieve the entire dataset of results\.
  + \[\-\-group\-name `value`\] – The name of the security group\.
  + \[\-\-group\-id `value`\] – The ID of the security group\.
  + \[\-\-page\-size `value`\] – The size of each page to get in the AWS service call\. This size doesn't affect the number of items returned in the command's output\. Setting a smaller page size results in more calls to the AWS service, retrieving fewer items in each call\. This approach can help prevent the AWS service calls from timing out\. For usage examples, see [Pagination](https://docs.aws.amazon.com/cli/latest/userguide/pagination.html) in the *AWS Command Line Interface User Guide*\.
  + \[\-\-max\-items `value`\] – The total number of items to return in the command's output\. If the total number of items available is more than the value specified, `NextToken` is provided in the command's output\. To resume pagination, provide the `NextToken` value in the `starting-token` argument of a subsequent command\. Don't use the `NextToken` response element directly outside of the AWS CLI\. For usage examples, see [Pagination](https://docs.aws.amazon.com/cli/latest/userguide/pagination.html) in the *AWS Command Line Interface User Guide*\.
  + \[\-\-starting\-token `value`\] – A token to specify where to start paginating\. This token is the `NextToken` value from a previously truncated response\. For usage examples, see [Pagination](https://docs.aws.amazon.com/cli/latest/userguide/pagination.html) in the *AWS Command Line Interface User Guide*\.
+ [describe\-tags](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-tags.html) – Describes one or more of the tags for specified resource \(`image`, `instance`, or security group\)\. With this command, the following filters are supported:
  + launch\-template
  + resource\-id
  + resource\-type – `image` or `instance`
  + key
  + value
+ [describe\-volumes](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-volumes.html) – Describes the specified Amazon EBS volumes\.
  + \[\-\-max\-items `value`\] – The total number of items to return in the command's output\. If the total number of items available is more than the value specified, `NextToken` is provided in the command's output\. To resume pagination, provide the `NextToken` value in the `starting-token` argument of a subsequent command\.
  + \[\-\-starting\-token `value`\] – A token to specify where to start paginating\. This token is the `NextToken` value from a previously truncated response\.
  + \[\-\-volume\-ids `value`\] – One or more volume IDs\.
+ [detach\-volume](https://docs.aws.amazon.com/cli/latest/reference/ec2/detach-volume.html) – Detaches an Amazon EBS volume from a stopped or running instance\. 
  + \[\-\-device `value`\] – The device name\.
  + \[\-\-instance\-id\] – The ID of a target Amazon EC2 instance\.
  + \-\-volume\-id `value` – The ID of the volume\.
+ [disassociate\-address](https://docs.aws.amazon.com/cli/latest/reference/ec2/disassociate-address.html) – Disassociates a virtual IP address from the instance it's associated with\.
  + \-\-public\-ip – The virtual IP address that you want to disassociate from your instance\.
+ [get\-launch\-template\-data](https://docs.aws.amazon.com/cli/latest/reference/ec2/get-launch-template-data.html) – Retrieves the configuration data of the specified instance\. You can use this data to create a launch template\.
  + \-\-instance\-id – The ID of a single `sbe` instance\.
  + \-\-endpoint `snowballEndpoint` – A value that enables you to manage your compute instances programmatically using Amazon EC2 API operations\. For more information, see [Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint](#using-ec2-adapter-cli-endpoint)\.
+ [modify\-launch\-template](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-launch-template.html) – Modifies a launch template\. You can specify which version of the launch template to set as the default version\. When you launch an instance without specifying a launch template version, the default version of the launch template applies\.

  Specify either the launch template ID or launch template name in the request\.
  + \-\-launch\-template\-id `string` – The ID of the launch template\.
  + \-\-launch\-template\-name `string` – A name for the launch template\.
  + \-\-default\-version `string` – The version number of the launch template to set as the default version\.
  + \-\-endpoint `snowballEndpoint` – A value that enables you to manage your compute instances programmatically using Amazon EC2 API operations\. For more information, see [Specifying the Amazon EC2 Endpoint as the AWS CLI Endpoint](#using-ec2-adapter-cli-endpoint)\.
+ [modify\-instance\-attribute](https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-instance-attribute.html) – Modifies an attribute of the specified instance\. The following attributes are supported:
  + `instanceInitiatedShutdownBehavior`
  + `userData`
+ [revoke\-security\-group\-egress](https://docs.aws.amazon.com/cli/latest/reference/ec2/revoke-security-group-egress.html) – Removes one or more egress rules from a security group:
  + \[\-\-group\-id `value`\] – The ID of the security group
  + \[\-\-ip\-permissions `value`\] – One or more sets of IP permissions\.
+ [revoke\-security\-group\-ingress](https://docs.aws.amazon.com/cli/latest/reference/ec2/revoke-security-group-ingress.html) – Revokes one or more ingress rules to a security group\. When calling `revoke-security-group-ingress`, you must specify a value for either `group-name` or `group-id`\.
  + \[\-\-group\-name `value`\] – The name of the security group\.
  + \[\-\-group\-id `value`\] – The ID of the security group\.
  + \[\-\-ip\-permissions `value`\] – One or more sets of IP permissions\.
  + \[\-\-protocol `value`\] The IP protocol\. Possible values are `tcp`, `udp`, and `icmp`\. The `--port` argument is required unless the "all protocols" value is specified \(\-1\)\.
  + \[\-\-port `value`\] – For TCP or UDP, the range of ports to allow\. A single integer or a range \(minimum–maximum\)\.

    For ICMP, a single integer or a range \(`type`\-`code`\) in which `type` represents the ICMP type number and `code` represents the ICMP code number\. A value of \-1 indicates all ICMP codes for all ICMP types\. A value of \-1 just for `type` indicates all ICMP codes for the specified ICMP type\.
  + \[\-\-cidr `value`\] – The CIDR IP range\.
+ [run\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html) – Launches a number of compute instances by using a Snowball AMI ID for an AMI\.
**Note**  
It can take up to an hour and a half to launch a compute instance on a Snowball Edge, depending on the size and type of the instance\.
  + \[\-\-block\-device\-mappings `(list)]` – The block device mapping entries\. The parameters `DeleteOnTermination`, `VolumeSize`, and `VolumeType` are supported\. Boot volumes must be type `sbg1`\.

    The JSON syntax for this command is as follows\.

    ```
    {
       "DeviceName": "/dev/sdh",
       "Ebs": 
       {
          "DeleteOnTermination": true|false,
          "VolumeSize": 100,
          "VolumeType": "sbp1"|"sbg1"
       }
    }
    ```
  + \-\-count – Number of instances to launch\. If a single number is provided, it is assumed to be the minimum to launch \(defaults to 1\)\. If a range is provided in the form `min:max`, then the first number is interpreted as the minimum number of instances to launch and the second is interpreted as the maximum number of instances to launch\.
  + \-\-image\-id – The Snowball AMI ID of the AMI, which you can get by calling `describe-images`\. An AMI is required to launch an instance\.
  + \-\-InstanceInitiatedShutdownBehavior – By default, when you initiate a shutdown from your instance \(using a command such as shutdown or poweroff\), the instance stops\. You can change this behavior so that it terminates instead\. The parameters `stop` and `terminate` are supported\. The default is `stop`\. For more information, see [Changing the instance initiated shutdown behavior](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html#Using_ChangingInstanceInitiatedShutdownBehavior) in the *Amazon EC2 User Guide for Linux Instances*\.
  + \-\-instance\-type – The `sbe` instance type\.
  + \-\-launch\-template `structure` – The launch template to use to launch the instances\. Any parameters that you specify in the `run-instances` command override the same parameters in the launch template\. You can specify either the name or ID of a launch template, but not both\.

    ```
    {
       "LaunchTemplateId": "string",
       "LaunchTemplateName": "string",
       "Version": "string"
    }
    ```
  + \-\-security\-group\-ids – One or more security group IDs\. You can create a security group using [CreateSecurityGroup](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateSecurityGroup.html)\. If no value is provided, the ID for the default security group is assigned to created instances\.
  + \-\-tag\-specifications – The tags to apply to the resources during launch\. You can only tag instances on launch\. The specified tags are applied to all instances that are created during launch\. To tag a resource after it has been created, use `create-tags`\.
  + \-\-user\-data – The user data to make available to the instance\. If you are using the AWS CLI, base64\-encoding is performed for you, and you can load the text from a file\. Otherwise, you must provide base64\-encoded text\.
  + \-\-key\-name \(string\) – The name of the key pair\. You can create a key pair using `CreateKeyPair` or `ImportKeyPair`\. 
**Warning**  
If you don't specify a key pair, you can't connect to the instance unless you choose an AMI that is configured to allow users another way to log in\.
+ [start\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/start-instances.html) – Starts an `sbe` instance that you've previously stopped\. All resources attached to the instance persist through starts and stops, but are erased if the instance is terminated\.
  + \-\-instance\-ids – The IDs of one or more `sbe` instances that were stopped on the device\.
+ [stop\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/stop-instances.html) – Stops an `sbe` instance that is running\. All resources attached to the instance persist through starts and stops, but are erased if the instance is terminated\.
  + \-\-instance\-ids – The IDs of one or more `sbe` instances to be stopped on the device\.
+ [terminate\-instances](https://docs.aws.amazon.com/cli/latest/reference/ec2/terminate-instances.html) – Shuts down one or more instances\. This operation is idempotent; if you terminate an instance more than once, each call succeeds\. All resources attached to the instance persist through starts and stops, but data is erased if the instance is terminated\.
**Note**  
By default, when you use a command like `shutdown` or `poweroff` to initiate a shutdown from your instance, the instance stops\. However, you can use the `InstanceInitiatedShutdownBehavior` attribute to change this behavior so that these commands terminate your instance\. For more information, see [Changing the instance initiated shutdown behavior](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html#Using_ChangingInstanceInitiatedShutdownBehavior) in the *Amazon EC2 User Guide for Linux Instances*\.
  + \-\-instance\-ids – The IDs of one or more `sbe` instances to be terminated on the device\. All associated data stored for those instances will be lost\.
+ [create\-key\-pair](https://docs.aws.amazon.com/cli/latest/reference/ec2/create-key-pair.html) – Creates a 2048\-bit RSA key pair with the specified name\. Amazon EC2 stores the public key and displays the private key for you to save to a file\. The private key is returned as an unencrypted PEM\-encoded PKCS\#1 private key\. If a key with the specified name already exists, Amazon EC2 returns an error\. 
  + \-\-key\-name \(string\) – A unique name for the key pair\.

    Constraints: Up to 255 ASCII characters\. 
  + \[\-\-tag\-specifications\] \(list\) – The tags to apply to the new key pair\.

  ```
  {
      "ResourceType": "image"|"instance"|"key-pair"|"launch-template"|"security-group",
      "Tags": [
        {
          "Key": "string",
          "Value": "string"
        }
        ...
      ]
    }
    ...
  ```
+ [import\-key\-pair](https://docs.aws.amazon.com/cli/latest/reference/ec2/import-key-pair.html) – 
  + \-\-key\-name \(string\) – A unique name for the key pair\.

    Constraints: Up to 255 ASCII characters\. 
  + \-\-public\-key\-material \(blob\) – The public key\. For API calls, the text must be base64\-encoded\. For command line tools, base64\-encoding is performed for you\. 
  + \[\-\-tag\-specifications\] \(list\) – The tags to apply to the new key pair\.

  ```
  {
      "ResourceType": "image"|"instance"|"key-pair"|"launch-template"|"security-group",
      "Tags": [
        {
          "Key": "string",
          "Value": "string"
        }
        ...
      ]
    }
  ```
+ [describe\-key\-pairs](https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-key-pairs.html) – 

  \[\-\-filters\] \(list\) – The filters\.
  + key\-pair\-id – The ID of the key pair\.
  + key\-name – The name of the key pair\.
  + tag\-key – The key of a tag assigned to the resource\. Use this filter to find all resources assigned a tag with a specific key, regardless of the tag value\.
  + \[\-\-tag\-specifications\] \(list\) – The tags to apply to the new key pair\.
  + tag :key – The key/value combination of a tag assigned to the resource\. Use the tag key in the filter name and the tag value as the filter value\. For example, to find all resources that have a tag with the key `Owner` and the value `Team A`, specify `tag:Owner` for the filter name and `Team A` for the filter value\.

  ```
  {
      "Name": "string",
      "Values": ["string", ...]
    }
    ...
  ```
+ \[\-\-key\-names\] \(list\) – The key pair names\.

  Default: Describes all your key pairs\.
+ \[\-\-key\-pair\-ids\] \(list\) – The IDs of the key pairs\.
+ [delete\-key\-pair](https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-key-pair.html) – 
  + \[\-\-key\-name\] \(string\) – The name of the key pair\.
  + \[\-\-key\-pair\-id\] \(string\) – The ID of the key pair\.

## Supported Amazon EC2 API Operations<a name="using-ec2-adapter-supported-api"></a>

Following, you can find Amazon EC2 API operations that you can use with a Snowball Edge, with links to their descriptions in the *Amazon EC2 API Reference\. *Amazon EC2 API calls require Signature Version 4 \(SigV4\) signing\. If you're using the AWS CLI or an AWS SDK to make these API calls, the SigV4 signing is handled for you\. Otherwise, you need to implement your own SigV4 signing solution\. For more information, see [Getting and Using Local Amazon S3 Credentials](using-adapter.md#adapter-credentials)\.
+ [AssociateAddress](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_AssociateAddress.html) – Associates an Elastic IP address with an instance or a network interface\. 
+  [AttachVolume](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_AttachVolume.html) – The following request parameters are supported:
  + `Device`
  + `InstanceId`
  + `VolumeId`
+ [AuthorizeSecurityGroupEgress](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_AuthorizeSecurityGroupEgress.html) – Adds one or more egress rules to a security group for use with a Snowball Edge device\. Specifically, this action permits instances to send traffic to one or more destination IPv4 CIDR address ranges\.
+ [AuthorizeSecurityGroupIngress](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_AuthorizeSecurityGroupIngress.html) – Adds one or more ingress rules to a security group\. When calling AuthorizeSecurityGroupIngress, you must specify a value either for `GroupName` or `GroupId`\.
+  [CreateVolume](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateVolume.html) – The following request parameters are supported:
  + `SnapshotId`
  + `Size`
  + `VolumeType`
  + `TagSpecification.N`
+ [CreateLaunchTemplate](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateLaunchTemplate.html) – The following request parameters are supported:
  + `ImageId`
  + `InstanceType`
  + `SecurityGroupIds`
  + `TagSpecifications`
  + `UserData`
+ [CreateLaunchTemplateVersion](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateLaunchTemplateVersion.html)
+ [CreateTags](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateTags.html) – The following request parameters are supported:
  + `AMI`
  + `Instance`
  + `Launch template`
  + `Security group`
+ [CreateSecurityGroup](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateSecurityGroup.html) – Creates a security group on your Snowball Edge\. You can create up to 50 security groups\. When you create a security group, you specify a friendly name of your choice\.
+ [DeleteLaunchTemplate](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DeleteLaunchTemplate.html)
+ [DeleteLaunchTemplateVersions](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DeleteLaunchTemplateVersions.html)
+ [DeleteSecurityGroup](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DeleteSecurityGroup.html) – Deletes a security group\. If you attempt to delete a security group that is associated with an instance, or is referenced by another security group, the operation fails with `DependencyViolation`\.
+ [DeleteTags](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DeleteTags.html) – Deletes the specified set of tags from the specified set of resources\.
+  [DeleteVolume](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DeleteVolume.html) – The following request parameters are supported:
  + `VolumeId`
+ [DescribeAddresses](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeAddresses.html)
+ [DescribeImages](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeImages.html)
+ [DescribeInstanceAttribute](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeInstanceAttribute.html) – The following attributes are supported:
  + `instanceType`
  + `userData`
+ [DescribeLaunchTemplates](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeLaunchTemplates.html)
+ [DescribeLaunchTemplateVersions](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeLaunchTemplateVersions.html)
+ [DescribeInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeInstances.html)
+ [DescribeSecurityGroups](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeSecurityGroups.html) – Describes one or more of your security groups\. `DescribeSecurityGroups` is a paginated operation\. You can issue multiple API calls to retrieve the entire dataset of results\.
+ [DescribeTags](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeTags.html) – With this command, the following filters are supported:
  + `resource-id`
  + `resource-type` – AMI or compute instance only
  + `key`
  + `value`
+  [DescribeVolume](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeVolumes.html) – The following request parameters are supported:
  + `MaxResults`
  + `NextToken`
  + `VolumeId.N`
+  [DetachVolume](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DetachVolumes.html) – The following request parameters are supported:
  + `Device`
  + `InstanceId`
  + `VolumeId`
+ [DisassociateAddress](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DisassociateAddress.html)
+ [GetLaunchTemplateData](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_GetLaunchTemplateData.html)
+ [ModifyLaunchTemplate](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_ModifyLaunchTemplate.html)
+ [ModifyInstanceAttribute](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_ModifyInstanceAttribute.html) – Only the `userData` attribute is supported\.
+ [RevokeSecurityGroupEgress](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RevokeSecurityGroupEgress.html) – Removes one or more egress rules from a security group\.
+ [RevokeSecurityGroupIngress](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RevokeSecurityGroupIngress.html) – Revokes one or more ingress rules to a security group\. When calling RevokeSecurityGroupIngress, you must specify a value either for `group-name` or `group-id`\.
+ [RunInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_RunInstances.html) –
**Note**  
It can take up to an hour and a half to launch a compute instance on a Snowball Edge, depending on the size and type of the instance\.
+ [StartInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_StartInstances.html)
+ [StopInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_StopInstances.html) – Resources associated with a stopped instance persist\. You can terminate the instance to free up these resources\. However, any associated data is deleted\. 
+ [TerminateInstances](https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_TerminateInstances.html)